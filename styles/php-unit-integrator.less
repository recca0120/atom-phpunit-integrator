// The ui-variables file is provided by base themes provided by Atom.
//
// See https://github.com/atom/atom-dark-ui/blob/master/styles/ui-variables.less
// for a full listing of what's available.
@import "ui-variables";

@font-face {
  font-family: 'Font Awesome 4';
  font-weight: normal;
  font-style: normal;
  src: url(atom://php-unit-integrator/fonts/fontawesome-webfont.woff) format('woff');
  src: url(atom://php-unit-integrator/fonts/fontawesome-webfont.woff2) format('woff2');
}

.file-link() {
  .file-link {
    color: @text-color-subtle;

    &:hover {
      color: @text-color-highlight;
      cursor: pointer;
    }
  }
}

atom-text-editor[data-grammar="text html php"] {
  .highlight.uncovered .region {
    background-color: @background-color-error;
    opacity: 0.2;
  }

  .highlight.covered .region {
    background-color: @background-color-success;
    opacity: 0.2;
  }
}

.php-unit-integrator {
  display: flex;
  flex-direction: column;
  font-size: 1.2em;

  .php-test-passed {
    color: green;
  }
  .php-test-error {
    color: red;
  }
  .php-test-warning {
    color: orange;
  }
  .php-test-failure {
    color: red;
  }
  .php-test-skipped {
    color: yellow;
  }

  .fa {
    font-family: 'Font Awesome 4';
  }

  &.php-unit-skelgen {
    text-align: center;
    font-size: 1.5em;

    > span {
      padding-bottom: @component-padding;

      &:nth-child(2) {
        color: @text-color-info;
      }
    }

    > div {
      display: flex;
      justify-content: space-around;
      padding-top: @component-padding;

      > button {
        width: 100px;
      }
    }
  }

  .php-unit-output-view {
    .file-link()
  }

  .php-unit-report-view {
    display: flex;
    overflow: hidden;
    height: 100%;

    > .php-unit-report-nav {
      list-style-type: none;
      margin: 0;
      padding: 4px;
      font-size: 12px;
      text-align: center;
      border-right: 1px solid @pane-item-border-color;

      button {
        background-color: @button-background-color;
        border-color: @button-border-color;
        margin: 2px;
        // padding: 3px 5px;
        border-radius: 7px;

        &:hover {
          background-color: @tab-background-color-active;
        }

        &:disabled {
          color: @text-color-ignored;
        }

        &.active {
          background-color: lighten(@button-background-color, 10%);
        }
      }

      divider {
        display: block;
        border: 1px dotted black;
        margin: 6px 0;
      }

      .icon:before {
        padding-top: 4px;
        padding-left: 4px;
        width: 25px;
        height: 25px;
      }
    }

    > .php-unit-report-tree {
      flex-grow: 1;
      overflow-y: auto;
      position: relative;

      &.list-tree li[disabled] {
        display: none;
      }

      .selected:before {
        height: 2.2em;
      }

      .list-item {
        font-size: 1.1em;

        > .error-message {
          background-color: @base-background-color;
          white-space: pre-wrap;
          line-height: 1em;

          span {
            display: block;
            padding: 5px;
          }

          .file-link()
        }
      }

      .test-state {
        margin-left: 5px;

        &.test-passed {
          color: green;
        }
      }
    }
  }

  > .php-unit-input-bar {
    display: flex;
    align-items: center;
    font-size: 1em;
    padding: 0 @component-padding;
    border-bottom: 1px solid @pane-item-border-color;

    // > span {
    //   margin-left: @component-padding;
    //   // font-size: @input-font-size;
    //   font-weight: bold;
    // }
    //
    // > button {
    //   margin-right: @component-padding;
    //   padding: 0 @component-padding*2;
    // }

    select.form-control {
       color: @text-color;
       // margin-left: @component-padding;
       border-color: @button-border-color;
       background-color: @button-background-color;
       width: auto;
       // font-size: inherit;
       padding: 0 @component-padding;
       display: inline-block;

       &:hover, &:focus {
         box-shadow: none;
         background-color: @button-background-color-hover;
       }
    }

    label {
      margin-right: @component-padding;

      > span {
        vertical-align:
        cursor: pointer;
        margin-right: 5px;
        font-weight: normal;
        font-size: 0.8em;
      }
    }
  }

  .php-unit-coverage-view {
    > .php-unit-coverage-row {
      display: flex;
      flex-direction: row;

      .file-link();

      &.header {
        border-bottom: 1px solid @pane-item-border-color;
        text-align: center;
      }

      > .php-unit-coverage-cell {
        text-overflow: ellipsis;
        white-space: nowrap;
        overflow: hidden;
        border-right: 1px solid @pane-item-border-color;
        font-size: @input-font-size;


        &.covered-file {
          flex: 3;
        }
        &.covered-percent {
          flex: 1;
        }
        &.covered-stats {
          flex: 1;
          border-right: none;
        }
      }
    }
  }
}

.php-unit-status-bar {
  display: inline-block;
  color: @text-color-subtle;
  border: 1px solid @button-border-color;
  background: fade(@button-background-color, 33%);
  cursor: pointer;
  vertical-align: middle;
  position: relative;
  padding: 0 .6em;
  line-height: 1.8em;
  margin-right: 0.6em;

  &:active {
    background: transparent;
  }
  &.active {
    color: @text-color-highlight;
    background: @button-background-color;
  }
}

.etch-flex-progress {
  position: relative;
  background-color: rgba(255, 0, 0, 0.3);
  overflow: hidden;
  height: 90%;

  > .complete {
    position: absolute;
    background-color: rgba(0, 255, 0, 0.3);
    height: 100%;
    float: left;
  }

  > .label {
      position: absolute;
      top: 0;
      text-align: center;
      width: 100%;
      font-weight: bold;
      text-shadow: 0 -1px 0 rgba(0, 0, 0, 0.25);
  }
}

.etch-flex-layout {
  /**
   * etch-flex-container
   */
  &.etch-flex-container {
    justify-content: flex-start;
    align-items: stretch;
    align-content: stretch;
    display: flex;
    position: relative;
    height: 100%;
    width: 100%;

    &.horizontal {
      flex-direction: column;
    }

    &.vertical {
      flex-direction: row;
    }
  }

  /**
   * etch-flex-element
   */
  > .etch-flex-element {
    position: relative;
    overflow: auto;
    height: 100%;
    width: 100%;
    flex: 1;
  }

  /**
   * etch-flex-splitter
   */
  > .etch-flex-splitter {
    z-index: 100;
    background-position: center;
    background-repeat: no-repeat;
    width: 100%;
    height: 100%;
  }

  &.horizontal > .etch-flex-splitter {
    border-bottom: 1px solid @pane-item-border-color;
    border-top: 1px solid @pane-item-border-color;
    cursor: row-resize;
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAICAQAAADdTl4aAAAAIElEQVQoz2MwrTD9TxFsZ7jPcV+IIsjFQAUw6hFqegQA+xzRHT2p7pEAAAAASUVORK5CYII=');
    height: 10px;

    &:hover, &:active {
      border-bottom: 1px solid @background-color-highlight;
      border-top: 1px solid @background-color-highlight;
    }
  }

  &.vertical > .etch-flex-splitter {
    border-right: 1px solid @pane-item-border-color;
    border-left: 1px solid @pane-item-border-color;
    cursor: col-resize;
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAhCAQAAABOpSL+AAAAIklEQVR4AWMwbb/PdR+JZDD9f1/oPhI5sgVGBSruc9xHIgGdSQqqQJGkRgAAAABJRU5ErkJggg==');
    width: 10px;

    &:hover, &:active {
      border-right: 1px solid @background-color-highlight;
      border-left: 1px solid @background-color-highlight;
    }
  }
}

.etch-term {
  height: 100%;
  margin: 0;
  background-color: #000;
  list-style-type: none;
  padding: 10px;
  overflow: auto;

  > .etch-term-line {
    white-space: pre;

    &:empty:before {
      content: ' ';
      display: inline-block;
    }
  }

  .ansi-black-fg {color: #3A3A3A;}
  .ansi-red-fg {color: #DD948E;}
  .ansi-green-fg {color: #B6D1AA;}
  .ansi-yellow-fg {color: #F3D57C;}
  .ansi-blue-fg {color: #8AA9D5;}
  .ansi-magenta-fg {color: #CBAFD5;}
  .ansi-cyan-fg {color: #9AD1D4;}
  .ansi-white-fg {color: #EFEFEF;}
  .ansi-bright-black-fg {color: #5E5D5E;}
  .ansi-bright-red-fg {color: #E69B94;}
  .ansi-bright-green-fg {color: #D1F0C3;}
  .ansi-bright-yellow-fg {color: #F4D799;}
  .ansi-bright-blue-fg {color: #A6CBFE;}
  .ansi-bright-magenta-fg {color: #E7C7F2;}
  .ansi-bright-cyan-fg {color: #B0F0F5;}
  .ansi-bright-white-fg {color: #FFF;}

  .ansi-black-bg {background-color: #3A3A3A;}
  .ansi-red-bg {background-color: #DD948E;}
  .ansi-green-bg {background-color: #B6D1AA;}
  .ansi-yellow-bg {background-color: #F3D57C;}
  .ansi-blue-bg {background-color: #8AA9D5;}
  .ansi-magenta-bg {background-color: #CBAFD5;}
  .ansi-cyan-bg {background-color: #9AD1D4;}
  .ansi-white-bg {background-color: #EFEFEF;}
  .ansi-bright-black-bg {background-color: #5E5D5E;}
  .ansi-bright-red-bg {background-color: #E69B94;}
  .ansi-bright-green-bg {background-color: #D1F0C3;}
  .ansi-bright-yellow-bg {background-color: #F4D799;}
  .ansi-bright-blue-bg {background-color: #A6CBFE;}
  .ansi-bright-magenta-bg {background-color: #E7C7F2;}
  .ansi-bright-cyan-bg {background-color: #B0F0F5;}
  .ansi-bright-white-bg {background-color: #FFF;}
}
